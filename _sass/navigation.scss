/* ---------- NAV (replace existing nav and .nav-open nav sections with this) ---------- */

/* Mobile-open menu rules */
.nav-open nav {
  border-bottom: 1px dotted rgba(255, 255, 255, .2);
  padding: 10px 0;
  top: -7px;

  a {
    display: block;
    padding: 30px 0;
  }

  @media #{$mid-point} {
    border: 0;
    padding: 0 20px;

    a {
      display: inline;
    }
  }
}

nav {
  text-transform: uppercase;
  font-size: 1.1em;
  width: 100%;
  position: relative;
  top: -4px;
  text-shadow: none;
  clear: both;
  /* keep header flow as inline-block so nav sits beside logo */
  @media #{$mid-point} {
    padding: 0 20px;
    display: inline-block;
    vertical-align: middle;
    width: auto;
  }

  /* ----- groups ----- */
  /* hide groups on mobile by default; show on desktop */
  .nav-left,
  .nav-right {
    display: none;
  }

  @media #{$mid-point} {
    .nav-left {
      display: block;
      float: left;      /* left group on left side (desktop) */
      margin-left: 0;
    }

    .nav-right {
      display: block;
      float: right;     /* right group on right side (desktop) */
      margin-right: 0;
    }
  }

  /* ensure inline links on desktop */
  a {
    margin: 0 3px;
    padding: 14px 10px;
    border: 0;
    display: none;

    @media #{$mid-point} {
      display: inline;
      border-bottom: 1px solid rgba(255,255,255,0);
      color: rgba(255,255,255,.8);
    }

    &.nav-toggle {
      display: inline;
      position: absolute;
      left: 10px; /* burger on left for your layout */
      top: 2px;
      font-size: 1.9em;
      border: 0;
      text-shadow: none;
      padding: 0 !important;

      @media #{$mid-point} {
        display: none; /* hide burger on desktop */
      }

      &:hover {
        border: 0;
      }
    }
  }

  /* show groups and stack links when menu is open (mobile) */
  body.nav-open & .nav-left,
  body.nav-open & .nav-right {
    display: block !important;
    float: none !important;
    width: 100% !important;
    text-align: center;
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body.nav-open & a {
    display: block !important;
    width: 100% !important;
    padding: 14px 12px !important;
    text-align: center;
    box-sizing: border-box;
  }

  /* ----- white button styling ----- */
  /* put selector at top-level so it matches <a class="white"> exactly */
  a.white {
    border-radius: 100px;
    background: rgba(255, 255, 255, 0.30);
    border: 0.05px solid rgba(255, 255, 255, 1);
    color: #fff;
    font-weight: bold;
    display: inline-block;
    padding: 6px 14px;
    box-sizing: border-box;
    vertical-align: middle;
    text-decoration: none;
  }

  /* hide white on mobile until menu is opened */
  @media (max-width:  #{strip-unit($mid-point) - 1}px) {
    a.white {
      display: none !important;
    }

    body.nav-open & a.white {
      display: block !important;
    }
  }

  /* dark mode on scroll (header.header-background toggled by your JS) */
  header.header-background a.white,
  header.header-background nav a.white {
    background: rgba(0,0,0,0.1) !important;
    border-color: rgba(0,0,0,0.3) !important;
    color: #333 !important;
  }

  a.active {
    border-bottom: 3px solid #0db6bd;
  }

  /* clearfix */
  &::after {
    content: "";
    display: block;
    clear: both;
  }
}




